(this["webpackJsonpreact-mastermind"]=this["webpackJsonpreact-mastermind"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports={HighScores:"HighScoresPage_HighScores__pVKOC",cancel:"HighScoresPage_cancel__2M7KN",table:"HighScoresPage_table__2duiT"}},,function(e,t,a){e.exports={GuessRow:"GuessRow_GuessRow__2xB0Q",rowNum:"GuessRow_rowNum__2MfpL"}},function(e,t,a){e.exports={ColorPicker:"ColorPicker_ColorPicker__2MEvt",button:"ColorPicker_button__2D9S8"}},,,,,,function(e,t,a){e.exports={peg:"GuessPeg_peg__1qANj"}},function(e,t,a){e.exports={button:"ScoreButton_button__2ZFt3"}},function(e,t,a){e.exports={GameBoard:"GameBoard_GameBoard__2sC3L"}},function(e,t,a){e.exports={GameTimer:"GameTimer_GameTimer__PY19_"}},,function(e,t,a){e.exports=a(46)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(20),l=a.n(r),c=(a(31),a(7)),o=a.n(c),i=a(9),m=a(8),d=(a(33),a(1)),h=a(3),u=a(21),p=a.n(u);var g=e=>n.a.createElement("div",{className:p.a.peg,style:{backgroundColor:e.color,border:e.color?"1px solid ".concat(e.color):"1px dashed grey",cursor:e.currentGuess&&"pointer"},onClick:e.currentGuess?e.handlePegClick:null});a(34);var f=e=>n.a.createElement("div",{className:"GuessPegs"},n.a.createElement(g,{color:e.colors[e.code[0]],currentGuess:e.currentGuess,handlePegClick:()=>e.handlePegClick(0)}),n.a.createElement(g,{color:e.colors[e.code[1]],currentGuess:e.currentGuess,handlePegClick:()=>e.handlePegClick(1)}),n.a.createElement(g,{color:e.colors[e.code[2]],currentGuess:e.currentGuess,handlePegClick:()=>e.handlePegClick(2)}),n.a.createElement(g,{color:e.colors[e.code[3]],currentGuess:e.currentGuess,handlePegClick:()=>e.handlePegClick(3)}));a(35);var E=({score:e})=>{let t=("P".repeat(e.perfect)+"A".repeat(e.almost)+"I".repeat(4-e.perfect-e.almost)).split(""),a={width:10,height:10,margin:1,border:"2px solid",borderRadius:"50%"},s={P:{borderColor:"black",backgroundColor:"black"},A:{borderColor:"black",backgroundColor:"white"},I:{borderColor:"white",backgroundColor:"lightgrey"}};return n.a.createElement("div",{className:"GuessScore"},t.map((e,t)=>n.a.createElement("div",{key:t,style:Object(m.a)(Object(m.a)({},a),s[e])})))},C=a(22),v=a.n(C);var b=e=>n.a.createElement("button",{className:"".concat(v.a.button," btn btn-default"),disabled:e.disabled,onClick:e.handleScoreClick},"\u2714"),N=a(14),k=a.n(N);var S=e=>n.a.createElement("div",{className:k.a.GuessRow},n.a.createElement("div",{className:k.a.rowNum,style:{color:e.currentGuess?"black":"lightgrey"}},e.rowIdx+1),n.a.createElement(f,{colors:e.colors,code:e.guess.code,currentGuess:e.currentGuess,handlePegClick:e.handlePegClick}),e.currentGuess&&4!==e.guess.score.perfect?n.a.createElement(b,{disabled:e.guess.code.includes(null),handleScoreClick:e.handleScoreClick}):n.a.createElement(E,{score:e.guess.score})),w=a(23),y=a.n(w);var x=e=>n.a.createElement("div",{className:y.a.GameBoard},e.guesses.map((t,a)=>n.a.createElement(S,{guess:t,colors:e.colors,rowIdx:a,currentGuess:a===e.guesses.length-1,handlePegClick:e.handlePegClick,handleScoreClick:e.handleScoreClick,key:a}))),G=a(15),P=a.n(G);var T=e=>n.a.createElement("div",{className:P.a.ColorPicker},e.colors.map((t,a)=>n.a.createElement("button",{key:t,className:P.a.button,style:{backgroundColor:e.selColorIdx===a?"white":t,borderColor:t},onClick:()=>e.handleColorSelection(a)}))),_=a(24),I=a.n(_);class D extends s.Component{constructor(...e){super(...e),this.handleTick=()=>{this.props.isTiming&&this.props.handleTimerUpdate()}}componentDidMount(){this.timerId=setInterval(this.handleTick,1e3)}componentWillUnmount(){clearInterval(this.timerId)}render(){return n.a.createElement("div",{className:"".concat(I.a.GameTimer," flex-h")},function(e){let t=Math.floor(e/60).toString().padStart(2,"0"),a=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(a)}(this.props.elapsedTime))}}var O=D;var j=e=>n.a.createElement("button",{className:"btn btn-default",onClick:e.handleNewGameClick},"New Game");a(36);var B=()=>n.a.createElement("div",{className:"NavBar"},n.a.createElement(h.b,{to:"/login",className:"NavBar-link"},"LOG IN"),"\xa0\xa0|\xa0\xa0",n.a.createElement(h.b,{to:"/signup",className:"NavBar-link"},"SIGN UP"));a(42);var M=e=>n.a.createElement("div",{className:"GamePage"},n.a.createElement(B,null),n.a.createElement("div",{className:"flex-h align-flex-end"},n.a.createElement(x,{colors:e.colors,guesses:e.guesses,handlePegClick:e.handlePegClick,handleScoreClick:e.handleScoreClick}),n.a.createElement("div",{className:"GamePage-controls"},n.a.createElement(T,{colors:e.colors,selColorIdx:e.selColorIdx,handleColorSelection:e.handleColorSelection}),n.a.createElement(O,{elapsedTime:e.elapsedTime,handleTimerUpdate:e.handleTimerUpdate,isTiming:e.isTiming}),n.a.createElement(h.b,{className:"btn btn-default GamePage-link-margin",to:"/high-scores"},"High Scores"),n.a.createElement(h.b,{className:"btn btn-default GamePage-link-margin",to:"/settings"},"Difficulty"),n.a.createElement(j,{handleNewGameClick:e.handleNewGameClick}))),n.a.createElement("footer",{className:"header-footer"},e.winTries?"You Won in ".concat(e.winTries," Guesses!"):"Good Luck!"));a(43);var U=e=>{const t={border:"2px solid #333"};const a=Object.keys(e.colorsLookup).map(a=>n.a.createElement("div",{className:"Settings-level-row",key:a},n.a.createElement("button",{className:"Settings-level-btn btn btn-default",style:a===e.difficulty?t:null,disabled:a===e.difficulty,onClick:()=>function(t){e.handleDifficultyChange(t),e.history.push("/")}(a)},a),n.a.createElement("div",{className:"Settings-level-colors"},e.colorsLookup[a].map(e=>n.a.createElement("div",{className:"Settings-color",style:{backgroundColor:e},key:e})))));return n.a.createElement("div",{className:"Settings"},n.a.createElement("header",{className:"header-footer"},"Set Difficulty Level"),n.a.createElement("div",null,a),n.a.createElement("div",null,n.a.createElement(h.b,{className:"Settings-cancel btn btn-default btn-sm",to:"/"},"Cancel")))},H=a(12),L=a.n(H);var A={index:function(){return fetch("/api/scores/").then(e=>e.json())},create:function(e){const t={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)};return fetch("/api/scores/",t).then(e=>e.json())}};class F extends s.Component{componentDidMount(){var e=this;return Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.index();case 2:a=t.sent,e.props.handleUpdateScores(a);case 4:case"end":return t.stop()}}),t)})))()}render(){const e=this.props.scores.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,n.a.createElement("span",{className:"badge"},t+1)),n.a.createElement("td",null,e.initials),n.a.createElement("td",null,e.numGuesses),n.a.createElement("td",null,function(e){const t=Math.floor(e/60).toString().padStart(2,"0"),a=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(a)}(e.seconds))));return n.a.createElement("div",{className:L.a.HighScores},n.a.createElement("header",{className:"header-footer"},"High Scores"),this.props.scores.length?n.a.createElement("table",{className:"".concat(L.a.table," table text-info")},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{width:80},"#"),n.a.createElement("th",{width:100},"Initials"),n.a.createElement("th",{width:100},"Guesses"),n.a.createElement("th",null,"Seconds"))),n.a.createElement("tbody",null,e)):n.a.createElement("h4",{className:"text-info"},"No High Scores Yet"),n.a.createElement("div",null,n.a.createElement(h.b,{className:"".concat(L.a.cancel," btn btn-default btn-sm"),to:"/"},"Back to Game")))}}var R=F;var W={signup:function(e){return fetch("/api/users/signup",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then(e=>{if(e.ok)return e.json();throw new Error("Email already taken!")}).then(e=>e)}};class J extends s.Component{constructor(...e){var t;super(...e),t=this,this.state={name:"",email:"",password:"",passwordConf:""},this.handleChange=e=>{this.props.updateMessage(""),this.setState({[e.target.name]:e.target.value})},this.handleSubmit=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,W.signup(t.state);case 4:t.props.history.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.props.updateMessage(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}isFormInvalid(){return!(this.state.name&&this.state.email&&this.state.password===this.state.passwordConf)}render(){return n.a.createElement("div",null,n.a.createElement("header",{className:"header-footer"},"Sign Up"),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",value:this.state.name,name:"name",onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",value:this.state.email,name:"email",onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",value:this.state.password,name:"password",onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",value:this.state.passwordConf,name:"passwordConf",onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-sm-12 text-center"},n.a.createElement("button",{className:"btn btn-default",disabled:this.isFormInvalid()},"Sign Up"),"\xa0\xa0",n.a.createElement(h.b,{to:"/"},"Cancel")))))}}var Y=J;a(44);class z extends s.Component{constructor(e){super(e),this.updateMessage=e=>{this.setState({message:e})},this.state={message:""}}render(){return n.a.createElement("div",{className:"SignupPage"},n.a.createElement(Y,Object.assign({},this.props,{updateMessage:this.updateMessage})),n.a.createElement("p",null,this.state.message))}}var K=z;a(45);class q extends s.Component{constructor(...e){super(...e),this.state={email:"",pw:""},this.handleChange=e=>{},this.handleSubmit=e=>{e.preventDefault()}}render(){return n.a.createElement("div",{className:"LoginPage"},n.a.createElement("header",{className:"header-footer"},"Log In"),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",value:this.state.email,name:"email",onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",value:this.state.pw,name:"pw",onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-sm-12 text-center"},n.a.createElement("button",{className:"btn btn-default"},"Log In"),"\xa0\xa0\xa0",n.a.createElement(h.b,{to:"/"},"Cancel")))))}}var Q=q;const V={Easy:["#7CCCE5","#FDE47F","#E04644","#B576AD"],Moderate:["#7CCCE5","#FDE47F","#E04644","#B576AD","#B7D968"],Difficult:["#7CCCE5","#FDE47F","#E04644","#B576AD","#B7D968","#555E7B"]};class Z extends s.Component{constructor(){super(),this.isHighScore=e=>{let t=this.state.scores[this.state.scores.length-1];return e.length<t.numGuesses||e.length===t.numGuesses&&this.state.elapsedTime<t.seconds},this.handleTimerUpdate=()=>{this.setState(e=>({elapsedTime:++e.elapsedTime}))},this.handleDifficultyChange=e=>{this.setState({difficulty:e},()=>this.handleNewGameClick())},this.handleColorSelection=e=>{this.setState({selColorIdx:e})},this.handleNewGameClick=()=>{this.setState(this.getInitialState())},this.handlePegClick=e=>{let t=this.state.guesses.length-1,a=[...this.state.guesses],s=Object(m.a)({},a[t]),n=[...s.code];n[e]=this.state.selColorIdx,s.code=n,a[t]=s,this.setState({guesses:a})},this.handleScoreClick=()=>{let e=this.state.guesses.length-1,t=[...this.state.guesses[e].code],a=[...this.state.code],s=0,n=0;t.forEach((e,n)=>{a[n]===e&&(s++,t[n]=a[n]=null)}),t.forEach((e,t)=>{if(null===e)return;let s=a.indexOf(e);s>-1&&(n++,a[s]=null)});let r=[...this.state.guesses],l=Object(m.a)({},r[e]),c=Object(m.a)({},l.score);c.perfect=s,c.almost=n,l.score=c,r[e]=l,4===s?this.setState(e=>({isTiming:!1}),Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.scores.length<20||this.isHighScore(r))){e.next=5;break}return t=prompt("Congrats you have a top-20 score! Enter your initials: ").substr(0,3),e.next=4,A.create({initials:t,numGuesses:r.length,seconds:this.state.elapsedTime});case 4:this.props.history.push("/high-scores");case 5:case"end":return e.stop()}}),e,this)})))):r.push(this.getNewGuess()),this.setState({guesses:r,isTiming:4!==s})},this.handleUpdateScores=e=>{this.setState({scores:e})},this.state=Object(m.a)(Object(m.a)({},this.getInitialState()),{},{difficulty:"Easy",scores:[]})}getInitialState(){return{selColorIdx:0,guesses:[this.getNewGuess()],code:this.genCode(),elapsedTime:0,isTiming:!0}}getNewGuess(){return{code:[null,null,null,null],score:{perfect:0,almost:0}}}genCode(){let e=this.state&&V[this.state.difficulty].length;return e=e||4,new Array(4).fill().map(t=>Math.floor(Math.random()*e))}getWinTries(){let e=this.state.guesses.length-1;return 4===this.state.guesses[e].score.perfect?e+1:0}componentDidMount(){var e=this;return Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.index();case 2:a=t.sent,e.setState({scores:a});case 4:case"end":return t.stop()}}),t)})))()}render(){let e=this.getWinTries();return n.a.createElement("div",null,n.a.createElement("header",{className:"header-footer"},"R E A C T \xa0\xa0\xa0  M A S T E R M I N D"),n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"/",render:()=>n.a.createElement(M,{winTries:e,colors:V[this.state.difficulty],selColorIdx:this.state.selColorIdx,guesses:this.state.guesses,elapsedTime:this.state.elapsedTime,isTiming:this.state.isTiming,handleColorSelection:this.handleColorSelection,handleNewGameClick:this.handleNewGameClick,handlePegClick:this.handlePegClick,handleScoreClick:this.handleScoreClick,handleTimerUpdate:this.handleTimerUpdate})}),n.a.createElement(d.a,{exact:!0,path:"/settings",render:e=>n.a.createElement(U,Object.assign({},e,{colorsLookup:V,difficulty:this.state.difficulty,handleDifficultyChange:this.handleDifficultyChange}))}),n.a.createElement(d.a,{exact:!0,path:"/signup",render:({history:e})=>n.a.createElement(K,{history:e})}),n.a.createElement(d.a,{exact:!0,path:"/login",render:()=>n.a.createElement(Q,null)}),n.a.createElement(d.a,{exact:!0,path:"/high-scores",render:()=>n.a.createElement(R,{scores:this.state.scores,handleUpdateScores:this.handleUpdateScores})})))}}var $=Z;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(h.a,null,n.a.createElement(d.a,{component:$})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}],[[26,1,2]]]);
//# sourceMappingURL=main.b551c987.chunk.js.map