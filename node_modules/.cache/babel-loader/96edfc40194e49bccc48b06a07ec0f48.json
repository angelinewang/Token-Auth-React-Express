{"ast":null,"code":"function setToken(token) {\n  localStorage.setItem('token', token);\n}\n\nfunction getToken() {\n  let token = localStorage.getItem('token');\n\n  if (token) {\n    const payload = JSON.parse(atob(token.split('.')[1]));\n\n    if (payload.exp < Date.now() / 1000) {\n      localStorage.removeItem('token');\n      token = null;\n    }\n  }\n\n  return token;\n}\n\nfunction getUserFromToken() {\n  const token = getToken();\n  debugger; // return token ? JSON.parse(atob(token.split('.')[1])).user : null;\n}\n\nexport default {\n  setToken,\n  getToken,\n  getUserFromToken\n};","map":{"version":3,"sources":["/Users/angelinewang/SEI/Token-Based-Authenication-React-Express/token-based-auth/student/react-mastermind/src/utils/tokenService.js"],"names":["setToken","token","localStorage","setItem","getToken","getItem","payload","JSON","parse","atob","split","exp","Date","now","removeItem","getUserFromToken"],"mappings":"AAAA,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;AACrBC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,KAA7B;AACH;;AAED,SAASG,QAAT,GAAoB;AAChB,MAAIH,KAAK,GAAGC,YAAY,CAACG,OAAb,CAAqB,OAArB,CAAZ;;AACA,MAAGJ,KAAH,EAAU;AACN,UAAMK,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACR,KAAK,CAACS,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,CAAhB;;AAEA,QAAIJ,OAAO,CAACK,GAAR,GAAcC,IAAI,CAACC,GAAL,KAAa,IAA/B,EAAqC;AACjCX,MAAAA,YAAY,CAACY,UAAb,CAAwB,OAAxB;AACAb,MAAAA,KAAK,GAAG,IAAR;AACH;AACJ;;AACD,SAAOA,KAAP;AACH;;AAED,SAASc,gBAAT,GAA2B;AACvB,QAAMd,KAAK,GAAGG,QAAQ,EAAtB;AACA,WAFuB,CAGvB;AACH;;AAED,eAAe;AACXJ,EAAAA,QADW;AAEXI,EAAAA,QAFW;AAGXW,EAAAA;AAHW,CAAf","sourcesContent":["function setToken(token) {\n    localStorage.setItem('token',token)\n}\n\nfunction getToken() {\n    let token = localStorage.getItem('token')\n    if(token) {\n        const payload = JSON.parse(atob(token.split('.')[1]));\n\n        if (payload.exp < Date.now() / 1000) {\n            localStorage.removeItem('token');\n            token = null;\n        }\n    }\n    return token;\n}\n\nfunction getUserFromToken(){\n    const token = getToken()\n    debugger\n    // return token ? JSON.parse(atob(token.split('.')[1])).user : null;\n}\n\nexport default {\n    setToken,\n    getToken,\n    getUserFromToken\n}"]},"metadata":{},"sourceType":"module"}